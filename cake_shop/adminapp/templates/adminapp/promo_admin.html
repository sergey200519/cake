{% extends 'adminapp/admin_base.html' %}
{% load static %}


{% block style %}
    <link rel="stylesheet" href="{% static 'style/promo.css' %}">
    <link rel="stylesheet" href="{% static 'style/addpromo.css' %}">
{% endblock %}
    

{% block content %}
    <section class="popupwrapper none" id="addpromo">
        <form class="addpromo__form popupwrapper__popup" action="{% url 'adminapp:promo_create' %}" method="post">
            {% csrf_token %}
            <div class="popupwrapper__clouse">
                <svg viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                        <g id="close">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M6.21991 6.21479C6.51281 5.92189 6.98768 5.92189 7.28057 6.21479L17.7854 16.7196C18.0783 17.0125 18.0783 17.4874 17.7854 17.7803C17.4925 18.0732 17.0177 18.0732 16.7248 17.7803L6.21991 7.27545C5.92702 6.98255 5.92702 6.50768 6.21991 6.21479Z"
                                fill="#000000" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M17.7853 6.21479C18.0782 6.50769 18.0782 6.98256 17.7853 7.27545L7.28038 17.7802C6.98749 18.0731 6.51261 18.0731 6.21972 17.7802C5.92683 17.4873 5.92683 17.0124 6.21973 16.7195L16.7247 6.21478C17.0176 5.92189 17.4924 5.9219 17.7853 6.21479Z"
                                fill="#000000" />
                        </g>
                </svg></div>
            <h1 class="addpromo__form__title">Добавление промокода</h1>
            <div class="addpromo__form__group flex">
                {% comment %} <input class="addpromo__form__input" placeholder=" " type="text"> {% endcomment %}
                {{ promo_form.promo_code }}
                <label class="addpromo__form__label">Название промокода</label>
            </div>
            <div class="addpromo__item flex">
            <div class="addpromo__form__group flex">
                {% comment %} <input class="addpromo__form__input" placeholder=" " type="text"> {% endcomment %}
                {{ promo_form.discount }}
                <label class="addpromo__form__label">Скидка (%)</label>
            </div>
            <div class="addpromo__form__group flex">
                {% comment %} <input class="addpromo__form__input" placeholder=" " type="date"> {% endcomment %}
                {{ promo_form.date }}
                <label class="addpromo__form__label">Дуйствует до</label>
            </div>
        </div>
            <div class="addpromo__btns flex">
            <div class="addpromo__button">
                <input class="addpromo-button__add button" type="submit" value="Добавить">
            </div>
            </div>
        </form>
    </section>

    <section class="promo">
        <div class="container">
            <h1 class="promo__info mb-5">Промокоды</h1>
            <ul class="promo__link mb-5">
                <li class="promo__link__a"><a class="promo__link__itemone" href="{% url 'adminapp:index' %}">Назад</a>
                </li>
                <li class="promo__link__a"><a class="promo__link__item" data-popup-link="addpromo">Добавить промокод</a></li>
            </ul>
            <div class="table-responsive mb-5">
                <table class="promo__table">
                    <thead class="promo__table__header">
                        <tr>
                            <td class="promo__header__bold">№</td>
                            <td class="promo__header__bold">Промокод</td>
                            <td class="promo__header__bold">Скидка (%)</td>
                            <td class="promo__header__bold">Действует до</td>
                            <td class="promo__header__bold">-----</td>
                            <td class="promo__header__bold">-----</td>

                        </tr>
                    </thead>
                    <tbody>
                        {% for promo in promocodes %}
                            <tr class="promo__table__body">
                                <td class="promo__header__regular">{{ promo.id }}</td>
                                <td class="promo__header__regular">{{ promo.promo_code }}</td>
                                <td class="promo__header__regular">{{ promo.discount }}</td>
                                <td class="promo__header__bold">{{ promo.date.day }}.{{ promo.date.month }}.{{ promo.date.year }}</td>
                                <td class="promo__header__regular"><a class="promo_a"
                                        href="{% url 'adminapp:promo_update' promo.id %}">Изменить</a></td>
                                <td class="promo__header__regular"><a class="promo_a del_item"
                                        href="{% url 'adminapp:promo_remove' promo.id %}">удалить</a></td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </section>
{% endblock %}

{% block script %}
    <script type="module" src="{% static 'script/del_item_admin.js' %}"></script>
{% endblock %}

    